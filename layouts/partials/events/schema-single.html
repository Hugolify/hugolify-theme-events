<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Event",
    {{- with .Title }}
      "name": {{ partial "func/PrepareData" . }},
    {{ end -}}

    {{- with .Params.image }}
      "thumbnailUrl": {{ .src | absURL }},
    {{ end -}}

    {{- with .Description }}
      "description": {{ partial "func/PrepareData" . }},
    {{ end -}}

    {{- with .Params.event }}
      "startDate": {{ .date_from }},
      "endDate": {{ .date_to }},
      {{- with .cta }}
        "offers": {{ .url }},
      {{ end -}}
    {{ end -}}

    {{- range .GetTerms "events_categories" }}
      "articleSection": {{ partial "func/PrepareData" .Title }},
    {{ end -}}

    {{- range .GetTerms "events_persons" }}
      {{- $author :=  partial "func/GetRealPerson" . -}}
      {{- with $author }}
        "author": {
          "@type": "Person",
          "name": {{ partial "func/PrepareData" .Title }},
          {{- with .Description }}
            "description": {{ partial "func/PrepareData" . }},
          {{ end }}
          "url": {{ .Permalink }}
        },
      {{ end -}}
    {{ end -}}

    {{- with .Content }}
      "articleBody": {{ partial "func/PrepareData" . }},
    {{ end -}}

  }
</script>